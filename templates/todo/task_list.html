{% extends "base.html" %}
{% load static %}

{% block title %}
  TODO list
{% endblock %}

{% block content %}
  <div class="container h-100 content-container">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-md-12 col-xl-10">

        <div class="card mask-custom" style="background-color: #3abca7">
          <div class="card-body p-4 text-white">
            <a style="float: right" class="btn btn-primary" href="{% url 'todo:task-create' %}">Add task</a>
            <div class="text-center pt-5">
              <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-todo-list/check1.webp"
                   alt="Check" width="60">
              <h2 class="my-4">To do</h2>
            </div>

            <table class="table text-white mb-0">
              <thead>
              <tr>
                <th scope="col">Status</th>
                <th scope="col">Task</th>
                <th scope="col">Tags</th>
                <th scope="col">Created at</th>
                <th scope="col">Deadline</th>
                <th scope="col">Actions</th>
              </tr>
              </thead>
              <tbody>
              {% for task in task_list %}
                <tr class="fw-normal">
                  <td class="align-middle">
                    <span>
                      {% if task.is_done %}
                        <i class="fa-regular fa-square-check fa-2xl" style="color: #2e854f;"></i>
                      {% else %}
                        <i class="fa-solid fa-square-xmark fa-beat fa-2xl" style="color: #db1f1f;"></i>
                      {% endif %}
                    </span>
                  </td>
                  <td class="align-middle">
                    <span>{{ task.content }}</span>
                  </td>
                  <td class="align-middle">
                    <span>{% for tag in task.tags.all %}{{ tag }}<br>{% endfor %}</span>
                  </td>
                  <td class="align-middle">
                    <span>{{ task.created_at }}</span>
                  </td>
                  <td class="align-middle">
                    <span>
                      {% if task.deadline %}
                        {{ task.deadline }}
                      {% else %}
                        -
                      {% endif %}
                    </span>
                  </td>
                  <td class="align-middle">
                    {% if task.is_done %}
                      <a href="{% url 'todo:task-mark' pk=task.id %}">
                        <i class="fa-solid fa-circle-xmark" style="color: #db1f1f;"></i>
                      </a>
                    {% else %}
                      <a href="{% url 'todo:task-mark' pk=task.id %}">
                        <i class="fa-solid fa-circle-check" style="color: #36511f;"></i>
                      </a>
                    {% endif %}
                    <a href="{% url 'todo:task-update' pk=task.id %}"><i class="fas fa-pencil-alt"></i></a>
                    <a href="{% url 'todo:task-delete' pk=task.id %}"><i class="fa-solid fa-trash"></i></a>
                  </td>
                </tr>

              {% endfor %}

              </tbody>
            </table>


          </div>
        </div>

      </div>
    </div>
  </div>
{% endblock %}
